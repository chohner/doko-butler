(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{251:function(e,t,a){e.exports=a(472)},256:function(e,t,a){},258:function(e,t,a){},413:function(e,t,a){e.exports=a.p+"static/media/logo.62486c72.svg"},472:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(64),o=a.n(l),c=(a(256),a(20)),i=a(21),s=a(23),p=a(22),m=a(24),u=(a(258),a(493)),h=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(p.a)(t).call(this,e))).state={hasError:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(u.a,{as:"h3",textAlign:"center",content:"Something went wrong - try resetting (top right) + reloading"}):this.props.children}}]),t}(n.Component),d=a(491),y=a(218),g=a(139),f=a(486),v=function(e){return r.a.createElement(f.a,{basic:!0,trigger:e.trigger,centered:!1,closeIcon:!0},r.a.createElement(f.a.Header,null,"Doko Butler"),r.a.createElement(f.a.Content,null,r.a.createElement(f.a.Description,null,r.a.createElement("p",null,"Doko Butler is a little web app that helps you keep track of your Doppelkopf score."),r.a.createElement("ul",null,r.a.createElement("li",null,"To change a player name, simply click on a name and start typing"),r.a.createElement("li",null,"To add a game, use the bottom row to enter the score and select who won that round"),r.a.createElement("li",null,"To add/remove players, click Players and select Add or Remove. Player count is limited between 4 and 7 and may be changed any time."),r.a.createElement("li",null,"To edit a previous game, select the corresponding score and click the edit icon. It will populate the bottom row with the game data"),r.a.createElement("li",null,"To reset everything, click the red RESET on the top right and confirm"),r.a.createElement("li",null,"Games with a score of 0 must have no winners, games with a score >0 must have a least one winner")),r.a.createElement("p",null,"Don't worry if you accidentally reload or close the page - Doko Butler will keep the score."))))},b=a(492),k=a(490),E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={resetPopupOpen:!1},a.handleClick=function(){a.setState({resetPopupOpen:!1}),a.props.onReset()},a.handleOpen=function(){a.setState({resetPopupOpen:!0})},a.handleClose=function(){a.setState({resetPopupOpen:!1})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{name:"resetPopup",hideOnScroll:!0,open:this.state.resetPopupOpen,onClose:this.handleClose,onOpen:this.handleOpen,trigger:this.props.trigger,content:r.a.createElement(k.a,{color:"red",name:"reset",content:"Confirm reset",onClick:this.handleClick}),on:"click",position:"bottom right"})}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).removePlayer=function(){a.props.onPlayerDelete()},a.addNewPlayer=function(){a.props.onPlayerAdd()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{name:"resetPopup",hideOnScroll:!0,trigger:this.props.trigger,content:r.a.createElement(k.a.Group,{basic:!0,compact:!0},r.a.createElement(k.a,{icon:"remove",color:"red",basic:!0,compact:!0,onClick:this.removePlayer,content:"Remove"}),r.a.createElement(k.a,{icon:"add",color:"green",basic:!0,compact:!0,onClick:this.addNewPlayer,content:"Add"})),on:"click",position:"bottom center"})}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleResetClick=function(){a.props.onReset()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{secondary:!0},r.a.createElement(d.a.Item,{content:r.a.createElement("img",{src:a(413),alt:"logo"})}),r.a.createElement(v,{trigger:r.a.createElement(d.a.Item,{name:"help",content:r.a.createElement(u.a,{as:"h3",content:"Doko Butler"})})}),r.a.createElement(w,{onPlayerAdd:this.props.onPlayerAdd,onPlayerDelete:this.props.onPlayerDelete,trigger:r.a.createElement(d.a.Item,{position:"left",content:"Players"})}),r.a.createElement(E,{onReset:this.handleResetClick,trigger:r.a.createElement(d.a.Item,{position:"right",content:r.a.createElement(y.a,{basic:!0,color:"red"},r.a.createElement(g.a,{name:"delete"})," Reset")})}))}}]),t}(n.Component),O=a(488),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleItemClick=function(e){a.props.onChange(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.game,n=t.cumulativeScore,l=t.playerCount,o=a.soloWon||a.soloLost?"".concat(3*a.points," / ").concat(a.points):a.points,c={borderTop:a.gameid%l!==0?null:"solid 2px gray"},i=a.score.map(function(e,t){var o=null===e?"-":n[t],c=a.winners[t],i=!1===a.winners[t]&&0!==a.points,s=t>=l;return r.a.createElement(O.a.Cell,{content:o,key:t,positive:c,negative:i,hidden:s})});return r.a.createElement(O.a.Row,{style:c},i,r.a.createElement(b.a,{hideOnScroll:!0,trigger:r.a.createElement(O.a.Cell,{content:o}),content:r.a.createElement(g.a,{name:"edit outline",onClick:function(){return e.handleItemClick(a.gameid)}}),on:"click",position:"top center"}))}}]),t}(n.Component),j=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"emptyGame",value:function(e){return{gameid:0,points:Array(e).fill(0),winners:Array(e).fill(!1),soloWon:!1,soloLost:!1}}},{key:"cumsum2d",value:function(e){var t=Array(e.length).fill(Array(e[0].length));return t[0]=e[0],e.slice(1).forEach(function(e,a){t[a+1]=e.map(function(e,n){return e+t[a][n]})}),t}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.games,l=a.playerCount;if(n.length>0){var o=n.map(function(e){return e.score}),c=this.cumsum2d(o);e=n.map(function(e,a){return r.a.createElement(P,{key:a,game:e,playerCount:l,cumulativeScore:c[a],onChange:t.props.onChange})})}return r.a.createElement(O.a.Body,null,e)}}]),t}(n.Component),G=a(242),S=a(485),A=a(482),x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=Object(G.a)(a.props.players);t[e.target.id].name=e.target.value,a.props.onChange(t)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t={textAlign:"center",fontWeight:"bold"};return r.a.createElement(O.a.Header,null,r.a.createElement(O.a.Row,null,this.props.players.map(function(a,n){return r.a.createElement(O.a.HeaderCell,{key:n,hidden:!a.active},r.a.createElement(S.a,null,r.a.createElement(A.a,{transparent:!0,type:"text",placeholder:"Player ".concat(a.playerid+1),id:a.playerid,value:a.name,onChange:e.handleChange},r.a.createElement("input",{style:t}))))}),r.a.createElement(O.a.HeaderCell,null,"Game")))}}]),t}(n.Component),I=a(481),R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleFocus=function(e){var t=e.currentTarget;setTimeout(function(){t.select()},0)},a.handleWinnerInput=function(e,t){var n=a.props.newGame.checkboxes.slice();n[t.playerid].checked=t.checked,a.props.onChange({checkboxes:n})},a.handlePointInput=function(e,t){a.props.onChange({points:t.value})},a.handlePointSubmit=function(e,t){var n=a.props.newGame,r=n.points,l=n.checkboxes,o="0"===r,c=[];l.forEach(function(e,t){e.checked&&c.push(t)}),o&&0!==c.length?console.warn("Null game must have zero winners."):0!==c.length||o?c.length>3?console.warn("Can't have more than 3 winners."):a.props.onSubmit(a.props.newGame):console.warn("Zero winners must be nullgame.")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.newGame,n=t.players,l=a.checkboxes.map(function(t,a){return r.a.createElement(O.a.HeaderCell,{key:a,hidden:!n[a].active},n[a].playing?r.a.createElement(I.a,{playerid:a,checked:t.checked,disabled:!n[a].playing,onChange:e.handleWinnerInput}):r.a.createElement(g.a,{name:"x"}))}),o=r.a.createElement(O.a.HeaderCell,null,r.a.createElement(A.a,{fluid:!0,size:"mini",type:"number",pattern:"\\d*",max:50,min:0,action:r.a.createElement(k.a,{compact:!0,color:"teal",icon:"add",size:"mini",onClick:this.handlePointSubmit}),onFocus:this.handleFocus,onChange:this.handlePointInput,value:a.points,placeholder:"Points"}));return r.a.createElement(O.a.Footer,{fullWidth:!0},r.a.createElement(O.a.Row,null,l,o))}}]),t}(n.Component),D=a(494),T=a(483),N=a(484),W=a(487),B=function(){return r.a.createElement(D.a,{style:{padding:"0em 0em 5em 0em"},vertical:!0},r.a.createElement(T.a,{textAlign:"center"},r.a.createElement(N.a,{section:!0}),r.a.createElement(W.a,{horizontal:!0,divided:!0,link:!0,size:"small"},r.a.createElement(W.a.Item,{content:"".concat("doko_butler"," ").concat("0.4.0")}),r.a.createElement(W.a.Item,{as:"a",href:"https://github.com/chohner/doko-butler",target:"_blank"},r.a.createElement(g.a,{name:"github"})," github"),r.a.createElement(W.a.Item,{as:"a",href:"https://chohner.com",target:"_blank",content:"made by chohner"}))))},z=a(489),H=a(240),F=["rgba(22, 70, 112,1)","rgba(145, 80, 150,1)","rgba(245, 89, 110,1)","rgba(255, 166, 0,1)"],L=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.players,a=e.playerCount,n=e.games;if(n.length>0){for(var l={labels:Array.from({length:n.length},function(e,t){return t+1}),datasets:[]},o=j.prototype.cumsum2d(n.map(function(e){return e.score})),c=function(e){l.datasets.push({label:t[e].name,fill:!1,borderColor:F[e],backgroundColor:F[e],lineTension:.2,data:o.map(function(t){return t[e]})})},i=0;i<a;i++)c(i);var s=[{key:"plot",title:"Progress plot",content:{content:r.a.createElement(H.a,{data:l})}}];return r.a.createElement(z.a,{defaultActiveIndex:-1,panels:s})}return null}}]),t}(n.Component),_=a(26),J=a.n(_);function Z(){return{players:[{playerid:0,name:"Player 1",playing:!0,active:!0},{playerid:1,name:"Player 2",playing:!0,active:!0},{playerid:2,name:"Player 3",playing:!0,active:!0},{playerid:3,name:"Player 4",playing:!0,active:!0},{playerid:4,name:"Player 5",playing:!1,active:!1},{playerid:5,name:"Player 6",playing:!1,active:!1},{playerid:6,name:"Player 7",playing:!1,active:!1},{playerid:7,name:"Player 8",playing:!1,active:!1}],playerCount:4,games:[],newGame:{gameid:0,checkboxes:[{playerid:0,checked:!1},{playerid:1,checked:!1},{playerid:2,checked:!1},{playerid:3,checked:!1},{playerid:4,checked:!1},{playerid:5,checked:!1},{playerid:6,checked:!1},{playerid:7,checked:!1}],points:""}}}var $=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={players:J.a.get("players")||[{playerid:0,name:"Player 1",playing:!0,active:!0},{playerid:1,name:"Player 2",playing:!0,active:!0},{playerid:2,name:"Player 3",playing:!0,active:!0},{playerid:3,name:"Player 4",playing:!0,active:!0},{playerid:4,name:"Player 5",playing:!1,active:!1},{playerid:5,name:"Player 6",playing:!1,active:!1},{playerid:6,name:"Player 7",playing:!1,active:!1},{playerid:7,name:"Player 8",playing:!1,active:!1}],games:J.a.get("games")||[],newGame:J.a.get("newGame")||{gameid:0,checkboxes:[{playerid:0,checked:!1},{playerid:1,checked:!1},{playerid:2,checked:!1},{playerid:3,checked:!1},{playerid:4,checked:!1},{playerid:5,checked:!1},{playerid:6,checked:!1},{playerid:7,checked:!1}],points:""},playerCount:J.a.get("playerCount")||4},a.emptyState=Z,a.handlePlayerChange=function(e){a.setState({players:e}),J.a.set("players",e)},a.handleGameAdded=function(e){var t=a.state.games,n=a.newGameToGame(e);t[n.gameid]=n,a.setState({games:t}),J.a.set("games",t),a.resetNewGame(t.length)},a.handleNewGameChange=function(e){var t=a.state.newGame;void 0!==e.checkboxes&&(t.checkboxes=e.checkboxes),void 0!==e.points&&(t.points=e.points),a.setState({newGame:t}),J.a.set("newGame",t)},a.resetNewGame=function(e){var t=a.state.playerCount,n=a.emptyState().newGame;n.gameid=e,a.setPlaying(t,n.gameid),a.setState({newGame:n}),J.a.set("newGame",n)},a.setPlaying=function(e,t){for(var n=a.state.players,r=Array(e).fill(!0),l=e-4,o=t%e,c=o;c<o+l;c++)r[c%e]=!1;n.forEach(function(e,t){e.playing=r[t]})},a.handleReset=function(){var e=a.emptyState();a.setState(e),J.a.set("players",e.players),J.a.set("playerCount",e.playerCount),J.a.set("games",e.games),J.a.set("newGame",e.newGame)},a.handleGameChange=function(e){var t=a.state,n=t.games,r=t.playerCount,l=n[e],o=a.emptyState().newGame;o.checkboxes.forEach(function(e,t){e.checked=l.winners[t]}),o.points=l.points,o.gameid=l.gameid,a.setPlaying(r,o.gameid),a.setState({newGame:o})},a.addNewPlayer=function(){var e=a.state,t=e.games,n=e.players,r=e.playerCount;r<8&&(n[r].active=!0,r++,a.setPlaying(r,t.length),a.setState({playerCount:r}),a.setState({players:n}),J.a.set("players",n),J.a.set("playerCount",r),J.a.set("playerCount",r))},a.removePlayer=function(){var e=a.state,t=e.players,n=e.playerCount,r=e.games;if(n>4){n--;var l=0===r.length?r.length:r[r.length-1].gameid;a.setPlaying(n,l),t[n].active=!1,a.setState({players:t}),a.setState({playerCount:n}),J.a.set("players",t),J.a.set("playerCount",n)}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"newGameToGame",value:function(e){var t=this.state.players,a=Number(e.points),n=e.checkboxes.map(function(e,a){return t[a].active&&t[a].playing?e.checked:null}),r=n.reduce(function(e,t){return e+(!0===t)}),l=1===r,o=3===r,c=n.map(function(e){return null===e?null:e?l?3*a:a:o?-3*a:-a});return{gameid:e.gameid,score:c,points:a,winners:n,soloWon:l,soloLost:o}}},{key:"render",value:function(){var e=this.state,t=e.players,a=e.games,n=e.newGame,l=e.playerCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{onReset:this.handleReset,onPlayerAdd:this.addNewPlayer,onPlayerDelete:this.removePlayer}),r.a.createElement(h,null,r.a.createElement(O.a,{fixed:!0,selectable:!0,unstackable:!0,columns:5,striped:!0,textAlign:"center",size:"small",style:{borderCollapse:"collapse"}},r.a.createElement(x,{players:t,onChange:this.handlePlayerChange}),r.a.createElement(j,{games:a,playerCount:l,onChange:this.handleGameChange}),r.a.createElement(R,{players:t,newGame:n,onChange:this.handleNewGameChange,onSubmit:this.handleGameAdded}))),r.a.createElement(L,{players:t,games:a,playerCount:l}),r.a.createElement(B,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(469);o.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[251,2,1]]]);
//# sourceMappingURL=main.4ee7ff7f.chunk.js.map