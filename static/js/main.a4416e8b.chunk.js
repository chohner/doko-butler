(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{232:function(e,n,t){e.exports=t(407)},237:function(e,n,t){},239:function(e,n,t){},394:function(e,n,t){e.exports=t.p+"static/media/logo.62486c72.svg"},407:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(58),o=t.n(l),i=(t(237),t(63)),s=t(23),c=t(24),m=t(26),p=t(25),h=t(27),u=(t(239),t(422)),d=t(424),g=t(199),w=t(200),y=t(419),E=function(e){return r.a.createElement(y.a,{basic:!0,trigger:e.trigger,centered:!1},r.a.createElement(y.a.Header,null,"Help"),r.a.createElement(y.a.Content,null,r.a.createElement(y.a.Description,null,r.a.createElement("p",null,"You can add a game by entering the game score and winners. Solos points are calculated automatically."),r.a.createElement("p",null,"You can edit a previous game by clicking on the corresponding score and hitting the edit icon. It will populate the bottom row, adding the game will edit in place."),r.a.createElement("p",null,"You can edit player names by clicking on them."))))},f=t(423),C=t(421),b=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={resetPopupOpen:!1},t.handleClick=function(){t.setState({resetPopupOpen:!1}),t.props.onReset()},t.handleOpen=function(){t.setState({resetPopupOpen:!0})},t.handleClose=function(){t.setState({resetPopupOpen:!1})},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(f.a,{name:"resetPopup",hideOnScroll:!0,open:this.state.resetPopupOpen,onClose:this.handleClose,onOpen:this.handleOpen,trigger:this.props.trigger,content:r.a.createElement(C.a,{color:"red",name:"reset",content:"Confirm reset",onClick:this.handleClick}),on:"click"})}}]),n}(a.Component),v=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).handleResetClick=function(){t.props.onReset()},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(u.a,{secondary:!0},r.a.createElement(u.a.Item,{content:r.a.createElement("img",{src:t(394),alt:"logo"})}),r.a.createElement(u.a.Item,{content:r.a.createElement(d.a,{as:"h3",content:"Doko Butler"})}),r.a.createElement(E,{trigger:r.a.createElement(u.a.Item,{name:"help",content:"Help"})}),r.a.createElement(b,{onReset:this.handleResetClick,trigger:r.a.createElement(u.a.Item,{position:"right",content:r.a.createElement(g.a,{basic:!0,color:"red"},r.a.createElement(w.a,{name:"delete"})," Reset")})}))}}]),n}(a.Component),O=t(420),j=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).handleItemClick=function(e){t.props.onChange(e)},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(O.a.Row,{style:{borderTop:this.props.gameid%4!==0?void 0:"solid 2px gray"}},r.a.createElement(O.a.Cell,null,this.props.game[0]),r.a.createElement(O.a.Cell,null,this.props.game[1]),r.a.createElement(O.a.Cell,null,this.props.game[2]),r.a.createElement(O.a.Cell,null,this.props.game[3]),r.a.createElement(f.a,{hideOnScroll:!0,trigger:r.a.createElement(O.a.Cell,null,this.props.game.soloWon||this.props.game.soloLost?"".concat(3*this.props.game.points," / ").concat(this.props.game.points):this.props.game.points),content:r.a.createElement(w.a,{name:"edit outline",onClick:function(){return e.handleItemClick(e.props.game.gameid)}}),on:"click",position:"top center"}))}}]),n}(a.Component),k=function(e){function n(){return Object(s.a)(this,n),Object(m.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"gameToResultPoints",value:function(e){var n=1===e.winner.length,t=3===e.winner.length,a={0:0,1:0,2:0,3:0};return Object.keys(a).forEach(function(r){e.winner.includes(Number(r))?a[r]+=n?3*e.points:e.points:a[r]-=t?3*e.points:e.points}),a.soloWon=n,a.soloLost=t,a}},{key:"gameListToPointList",value:function(e){var n=this,t=[];return e.forEach(function(e,a){var r=n.gameToResultPoints(e);t.push({gameid:e.gameid,points:e.points,soloWon:r.soloWon,soloLost:r.soloLost,0:0===a?r[0]:r[0]+t[t.length-1][0],1:0===a?r[1]:r[1]+t[t.length-1][1],2:0===a?r[2]:r[2]+t[t.length-1][2],3:0===a?r[3]:r[3]+t[t.length-1][3]})}),t}},{key:"render",value:function(){var e=this,n=this.gameListToPointList(this.props.games);return r.a.createElement(O.a.Body,null,n.map(function(n,t){return r.a.createElement(j,{key:t,game:n,onChange:e.props.onChange})}))}}]),n}(a.Component),G=t(418),P=t(417),S=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).handleChange=function(e){var n=Object(i.a)(t.props.players);n[e.target.id].name=e.target.value,t.props.onChange(n)},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e={textAlign:"center",fontWeight:"bold"};return r.a.createElement(O.a.Header,null,r.a.createElement(O.a.Row,null,r.a.createElement(O.a.HeaderCell,null,r.a.createElement(G.a,null,r.a.createElement(P.a,{transparent:!0,type:"text",placeholder:"Player 1",id:0,value:this.props.players[0].name,onChange:this.handleChange},r.a.createElement("input",{style:e})))),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(G.a,null,r.a.createElement(P.a,{transparent:!0,type:"text",placeholder:"Player 2",id:1,value:this.props.players[1].name,onChange:this.handleChange},r.a.createElement("input",{style:e})))),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(G.a,null,r.a.createElement(P.a,{transparent:!0,type:"text",placeholder:"Player 3",id:2,value:this.props.players[2].name,onChange:this.handleChange},r.a.createElement("input",{style:e})))),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(G.a,null,r.a.createElement(P.a,{transparent:!0,type:"text",placeholder:"Player 4",id:3,value:this.props.players[3].name,onChange:this.handleChange},r.a.createElement("input",{style:e})))),r.a.createElement(O.a.HeaderCell,null,"Game")))}}]),n}(a.Component),I=t(416),H=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).handleFocus=function(e){var n=e.currentTarget;setTimeout(function(){n.select()},0)},t.handleWinnerInput=function(e,n){var a=Object(i.a)(t.props.newGame.winner);a[n.playerid]=n.checked,t.props.onChange({winner:a})},t.handlePointInput=function(e,n){t.props.onChange({points:n.value})},t.handlePointSubmit=function(e,n){var a=Number(t.props.newGame.points),r=0===a,l=[];t.props.newGame.winner.forEach(function(e,n){e&&l.push(n)}),r&&0!==l.length?console.warn("Null game must have zero winners."):0!==l.length||r?l.length>3?console.warn("Can't have more than 3 winners."):t.props.onSubmit({gameid:t.props.newGame.gameid,winner:l,points:a}):console.warn("Zero winners must be nullgame.")},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(O.a.Footer,{fullWidth:!0},r.a.createElement(O.a.Row,null,r.a.createElement(O.a.HeaderCell,null,r.a.createElement(I.a,{playerid:"0",checked:this.props.newGame.winner[0],onChange:this.handleWinnerInput})),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(I.a,{playerid:"1",checked:this.props.newGame.winner[1],onChange:this.handleWinnerInput})),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(I.a,{playerid:"2",checked:this.props.newGame.winner[2],onChange:this.handleWinnerInput})),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(I.a,{playerid:"3",checked:this.props.newGame.winner[3],onChange:this.handleWinnerInput})),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(P.a,{fluid:!0,size:"mini",type:"number",pattern:"\\d*",max:50,min:0,action:r.a.createElement(C.a,{compact:!0,color:"teal",icon:"add",size:"mini",onClick:this.handlePointSubmit}),onFocus:this.handleFocus,onChange:this.handlePointInput,value:this.props.newGame.points,placeholder:"Points"}))))}}]),n}(a.Component),R=t(32),W=t.n(R);function x(){return{players:[{id:0,name:"Player 1"},{id:1,name:"Player 2"},{id:2,name:"Player 3"},{id:3,name:"Player 4"}],games:[],newGame:{gameid:0,winner:[!1,!1,!1,!1],points:""}}}var A=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={players:W.a.get("players")||[{id:0,name:"Player 1"},{id:1,name:"Player 2"},{id:2,name:"Player 3"},{id:3,name:"Player 4"}],games:W.a.get("games")||[],newGame:W.a.get("newGame")||{gameid:0,winner:[!1,!1,!1,!1],points:""}},t.emptyState=x,t.handlePlayerChange=function(e){t.setState({players:e}),W.a.set("players",e)},t.handleGameAdded=function(e){var n=Object(i.a)(t.state.games);e.gameid>t.state.games.length-1?n.push({gameid:t.state.games.length,winner:e.winner,points:e.points}):n[e.gameid]={gameid:e.gameid,winner:e.winner,points:e.points},t.setState({games:n}),W.a.set("games",n),t.resetNewGame(n.length)},t.handleNewGameChange=function(e){var n=t.state.newGame;void 0!==e.winner?n.winner=e.winner:void 0!==e.points&&(n.points=e.points),t.setState({newGame:n}),W.a.set("newGame",n)},t.resetNewGame=function(e){var n=t.emptyState();n.newGame.gameid=e,t.setState({newGame:n.newGame}),W.a.set("newGame",n.newGame)},t.handleReset=function(){var e=t.emptyState();t.setState(e),W.a.set("players",e.players),W.a.set("games",e.games),W.a.set("newGame",e.newGame)},t.handleGameChange=function(e){var n=t.state.games[e],a={gameid:e,winner:[!1,!1,!1,!1],points:n.points};n.winner.forEach(function(e){a.winner[e]=!0}),t.setState({newGame:a})},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{onReset:this.handleReset}),r.a.createElement(O.a,{fixed:!0,selectable:!0,unstackable:!0,columns:5,striped:!0,textAlign:"center",size:"small",style:{borderCollapse:"collapse"}},r.a.createElement(S,{players:this.state.players,onChange:this.handlePlayerChange}),r.a.createElement(k,{games:this.state.games,onChange:this.handleGameChange}),r.a.createElement(H,{newGame:this.state.newGame,onChange:this.handleNewGameChange,onSubmit:this.handleGameAdded})))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(404);o.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[232,2,1]]]);
//# sourceMappingURL=main.a4416e8b.chunk.js.map