(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{232:function(e,a,t){e.exports=t(407)},237:function(e,a,t){},239:function(e,a,t){},394:function(e,a,t){e.exports=t.p+"static/media/logo.62486c72.svg"},407:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(58),c=t.n(l),o=(t(237),t(18)),i=t(19),s=t(21),p=t(20),m=t(22),u=(t(239),t(428)),h=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(p.a)(a).call(this,e))).state={hasError:!1},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"componentDidCatch",value:function(e,a){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(u.a,{as:"h3",textAlign:"center",content:"Something went wrong - try resetting (top right) + reloading"}):this.props.children}}]),a}(n.Component),d=t(424),y=t(200),g=t(127),f=t(421),v=function(e){return r.a.createElement(f.a,{basic:!0,trigger:e.trigger,centered:!1},r.a.createElement(f.a.Header,null,"Help"),r.a.createElement(f.a.Content,null,r.a.createElement(f.a.Description,null,r.a.createElement("p",null,"You can add a game by entering the game score and winners. Solos points are calculated automatically."),r.a.createElement("p",null,"You can edit a previous game by clicking on the corresponding score and hitting the edit icon. It will populate the bottom row, adding the game will edit in place."),r.a.createElement("p",null,"You can edit player names by clicking on them."))))},b=t(427),k=t(425),E=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={resetPopupOpen:!1},t.handleClick=function(){t.setState({resetPopupOpen:!1}),t.props.onReset()},t.handleOpen=function(){t.setState({resetPopupOpen:!0})},t.handleClose=function(){t.setState({resetPopupOpen:!1})},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(b.a,{name:"resetPopup",hideOnScroll:!0,open:this.state.resetPopupOpen,onClose:this.handleClose,onOpen:this.handleOpen,trigger:this.props.trigger,content:r.a.createElement(k.a,{color:"red",name:"reset",content:"Confirm reset",onClick:this.handleClick}),on:"click"})}}]),a}(n.Component),C=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).removePlayer=function(){t.props.onPlayerDelete()},t.addNewPlayer=function(){t.props.onPlayerAdd()},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(b.a,{name:"resetPopup",hideOnScroll:!0,trigger:this.props.trigger,content:r.a.createElement(k.a.Group,{basic:!0,compact:!0},r.a.createElement(k.a,{icon:"remove",color:"red",basic:!0,compact:!0,onClick:this.removePlayer,content:"Remove"}),r.a.createElement(k.a,{icon:"add",color:"green",basic:!0,compact:!0,onClick:this.addNewPlayer,content:"Add"})),on:"click"})}}]),a}(n.Component),w=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).handleResetClick=function(){t.props.onReset()},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,{secondary:!0},r.a.createElement(d.a.Item,{content:r.a.createElement("img",{src:t(394),alt:"logo"})}),r.a.createElement(d.a.Item,{content:r.a.createElement(u.a,{as:"h3",content:"Doko Butler"})}),r.a.createElement(v,{trigger:r.a.createElement(d.a.Item,{name:"help",content:"Help"})}),r.a.createElement(C,{onPlayerAdd:this.props.onPlayerAdd,onPlayerDelete:this.props.onPlayerDelete,trigger:r.a.createElement(d.a.Item,{position:"right",content:"Players"})}),r.a.createElement(E,{onReset:this.handleResetClick,trigger:r.a.createElement(d.a.Item,{position:"right",content:r.a.createElement(y.a,{basic:!0,color:"red"},r.a.createElement(g.a,{name:"delete"})," Reset")})}))}}]),a}(n.Component),O=t(423),P=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).handleItemClick=function(e){t.props.onChange(e)},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.game,n=a.cumulativeScore,l=a.playerCount,c=t.soloWon||t.soloLost?"".concat(3*t.points," / ").concat(t.points):t.points,o={borderTop:t.gameid%l!==0?null:"solid 2px gray"},i=t.score.map(function(e,a){var c=null===e?"-":n[a],o=t.winners[a],i=!1===t.winners[a]&&0!==t.points,s=a>=l;return r.a.createElement(O.a.Cell,{content:c,key:a,positive:o,negative:i,hidden:s})});return r.a.createElement(O.a.Row,{style:o},i,r.a.createElement(b.a,{hideOnScroll:!0,trigger:r.a.createElement(O.a.Cell,{content:c}),content:r.a.createElement(g.a,{name:"edit outline",onClick:function(){return e.handleItemClick(t.gameid)}}),on:"click",position:"top center"}))}}]),a}(n.Component),j=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(i.a)(a,[{key:"emptyGame",value:function(e){return{gameid:0,points:Array(e).fill(0),winners:Array(e).fill(!1),soloWon:!1,soloLost:!1}}},{key:"cumsum2d",value:function(e){var a=Array(e.length).fill(Array(e[0].length));return a[0]=e[0],e.slice(1).forEach(function(e,t){a[t+1]=e.map(function(e,n){return e+a[t][n]})}),a}},{key:"render",value:function(){var e,a=this,t=this.props,n=t.games,l=t.playerCount;if(n.length>0){var c=n.map(function(e){return e.score}),o=this.cumsum2d(c);e=n.map(function(e,t){return r.a.createElement(P,{key:t,game:e,playerCount:l,cumulativeScore:o[t],onChange:a.props.onChange})})}return r.a.createElement(O.a.Body,null,e)}}]),a}(n.Component),G=t(223),S=t(420),A=t(417),x=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).handleChange=function(e){var a=Object(G.a)(t.props.players);a[e.target.id].name=e.target.value,t.props.onChange(a)},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a={textAlign:"center",fontWeight:"bold"};return r.a.createElement(O.a.Header,null,r.a.createElement(O.a.Row,null,this.props.players.map(function(t,n){return r.a.createElement(O.a.HeaderCell,{key:n,hidden:!t.active},r.a.createElement(S.a,null,r.a.createElement(A.a,{transparent:!0,type:"text",placeholder:"Player ".concat(t.id),id:t.id,value:t.name,onChange:e.handleChange},r.a.createElement("input",{style:a}))))}),r.a.createElement(O.a.HeaderCell,null,"Game")))}}]),a}(n.Component),I=t(416),R=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).handleFocus=function(e){var a=e.currentTarget;setTimeout(function(){a.select()},0)},t.handleWinnerInput=function(e,a){var n=t.props.newGame.checkboxes.slice();n[a.playerid].checked=a.checked,t.props.onChange({checkboxes:n})},t.handlePointInput=function(e,a){t.props.onChange({points:a.value})},t.handlePointSubmit=function(e,a){var n=t.props.newGame,r=n.points,l=n.checkboxes,c="0"===r,o=[];l.forEach(function(e,a){e.checked&&o.push(a)}),c&&0!==o.length?console.warn("Null game must have zero winners."):0!==o.length||c?o.length>3?console.warn("Can't have more than 3 winners."):t.props.onSubmit(t.props.newGame):console.warn("Zero winners must be nullgame.")},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.newGame,n=a.players,l=t.checkboxes.map(function(a,t){return r.a.createElement(O.a.HeaderCell,{key:t,hidden:!n[t].active},n[t].playing?r.a.createElement(I.a,{playerid:t,checked:a.checked,disabled:!n[t].playing,onChange:e.handleWinnerInput}):r.a.createElement(g.a,{name:"x"}))}),c=r.a.createElement(O.a.HeaderCell,null,r.a.createElement(A.a,{fluid:!0,size:"mini",type:"number",pattern:"\\d*",max:50,min:0,action:r.a.createElement(k.a,{compact:!0,color:"teal",icon:"add",size:"mini",onClick:this.handlePointSubmit}),onFocus:this.handleFocus,onChange:this.handlePointInput,value:t.points,placeholder:"Points"}));return r.a.createElement(O.a.Footer,{fullWidth:!0},r.a.createElement(O.a.Row,null,l,c))}}]),a}(n.Component),N=t(426),W=t(418),H=t(419),D=t(422),z=function(){return r.a.createElement(N.a,{style:{margin:"5em 0em 0em",padding:"5em 0em"},vertical:!0},r.a.createElement(W.a,{textAlign:"center"},r.a.createElement(H.a,{section:!0}),r.a.createElement(D.a,{horizontal:!0,divided:!0,link:!0,size:"small"},r.a.createElement(D.a.Item,{content:"".concat("doko_butler"," ").concat("0.3.0")}),r.a.createElement(D.a.Item,{as:"a",href:"https://github.com/chohner/doko-butler",target:"_blank"},r.a.createElement(g.a,{name:"github"})," github"),r.a.createElement(D.a.Item,{as:"a",href:"https://chohner.com",target:"_blank",content:"made by chohner"}))))},F=t(24),T=t.n(F);function B(){return{players:[{playerid:0,name:"Player 1",playing:!0,active:!0},{playerid:1,name:"Player 2",playing:!0,active:!0},{playerid:2,name:"Player 3",playing:!0,active:!0},{playerid:3,name:"Player 4",playing:!0,active:!0},{playerid:4,name:"Player 5",playing:!1,active:!1},{playerid:5,name:"Player 6",playing:!1,active:!1},{playerid:6,name:"Player 7",playing:!1,active:!1},{playerid:7,name:"Player 8",playing:!1,active:!1}],playerCount:4,games:[],newGame:{gameid:0,checkboxes:[{playerid:0,checked:!1},{playerid:1,checked:!1},{playerid:2,checked:!1},{playerid:3,checked:!1},{playerid:4,checked:!1},{playerid:5,checked:!1},{playerid:6,checked:!1},{playerid:7,checked:!1}],points:""}}}var L=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={players:T.a.get("players")||[{playerid:0,name:"Player 1",playing:!0,active:!0},{playerid:1,name:"Player 2",playing:!0,active:!0},{playerid:2,name:"Player 3",playing:!0,active:!0},{playerid:3,name:"Player 4",playing:!0,active:!0},{playerid:4,name:"Player 5",playing:!1,active:!1},{playerid:5,name:"Player 6",playing:!1,active:!1},{playerid:6,name:"Player 7",playing:!1,active:!1},{playerid:7,name:"Player 8",playing:!1,active:!1}],games:T.a.get("games")||[],newGame:T.a.get("newGame")||{gameid:0,checkboxes:[{playerid:0,checked:!1},{playerid:1,checked:!1},{playerid:2,checked:!1},{playerid:3,checked:!1},{playerid:4,checked:!1},{playerid:5,checked:!1},{playerid:6,checked:!1},{playerid:7,checked:!1}],points:""},playerCount:T.a.get("playerCount")||4},t.emptyState=B,t.handlePlayerChange=function(e){t.setState({players:e}),T.a.set("players",e)},t.handleGameAdded=function(e){var a=t.state.games,n=t.newGameToGame(e);a[n.gameid]=n,t.setState({games:a}),T.a.set("games",a),t.resetNewGame(a.length)},t.handleNewGameChange=function(e){var a=t.state.newGame;void 0!==e.checkboxes&&(a.checkboxes=e.checkboxes),void 0!==e.points&&(a.points=e.points),t.setState({newGame:a}),T.a.set("newGame",a)},t.resetNewGame=function(e){var a=t.state.playerCount,n=t.emptyState().newGame;n.gameid=e,t.setPlaying(a,n.gameid),t.setState({newGame:n}),T.a.set("newGame",n)},t.setPlaying=function(e,a){for(var n=t.state.players,r=Array(e).fill(!0),l=e-4,c=a%e,o=c;o<c+l;o++)r[o%e]=!1;n.forEach(function(e,a){e.playing=r[a]})},t.handleReset=function(){var e=t.emptyState();t.setState(e),T.a.set("players",e.players),T.a.set("playerCount",e.playerCount),T.a.set("games",e.games),T.a.set("newGame",e.newGame)},t.handleGameChange=function(e){var a=t.state,n=a.games,r=a.playerCount,l=n[e],c=t.emptyState().newGame;c.checkboxes.forEach(function(e,a){e.checked=l.winners[a]}),c.points=l.points,c.gameid=l.gameid,t.setPlaying(r,c.gameid),t.setState({newGame:c})},t.addNewPlayer=function(){var e=t.state,a=e.games,n=e.players,r=e.playerCount;r<8&&(n[r].active=!0,r++,t.setPlaying(r,a.length),t.setState({playerCount:r}),t.setState({players:n}),T.a.set("players",n),T.a.set("playerCount",r),T.a.set("playerCount",r))},t.removePlayer=function(){var e=t.state,a=e.players,n=e.playerCount,r=e.games;n>4&&(n--,t.setPlaying(n,r[r.length-1].gameid),a[n].active=!1,t.setState({players:a}),t.setState({playerCount:n}),T.a.set("players",a),T.a.set("playerCount",n))},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"newGameToGame",value:function(e){var a=this.state.players,t=Number(e.points),n=e.checkboxes.map(function(e,t){return a[t].active&&a[t].playing?e.checked:null}),r=n.reduce(function(e,a){return e+(!0===a)}),l=1===r,c=3===r,o=n.map(function(e){return null===e?null:e?l?3*t:t:c?-3*t:-t});return{gameid:e.gameid,score:o,points:t,winners:n,soloWon:l,soloLost:c}}},{key:"render",value:function(){var e=this.state,a=e.players,t=e.games,n=e.newGame,l=e.playerCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{onReset:this.handleReset,onPlayerAdd:this.addNewPlayer,onPlayerDelete:this.removePlayer}),r.a.createElement(h,null,r.a.createElement(O.a,{fixed:!0,selectable:!0,unstackable:!0,columns:5,striped:!0,textAlign:"center",size:"small",style:{borderCollapse:"collapse"}},r.a.createElement(x,{players:a,onChange:this.handlePlayerChange}),r.a.createElement(j,{games:t,playerCount:l,onChange:this.handleGameChange}),r.a.createElement(R,{players:a,newGame:n,onChange:this.handleNewGameChange,onSubmit:this.handleGameAdded}))),r.a.createElement(z,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(404);c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[232,2,1]]]);
//# sourceMappingURL=main.b6b7b997.chunk.js.map