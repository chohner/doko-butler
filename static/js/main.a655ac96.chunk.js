(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,n,t){e.exports=t(320)},180:function(e,n,t){},182:function(e,n,t){},320:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),l=t(48),o=t.n(l),i=(t(180),t(50)),s=t(20),c=t(21),p=t(23),m=t(22),h=t(24),u=(t(182),t(332)),d=t(334),g=t(147),w=t(333),y=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(p.a)(this,(e=Object(m.a)(n)).call.apply(e,[this].concat(r)))).state={resetPopupOpen:!1},t.handleItemClick=function(e,n){"reset"===n.name&&(t.setState({resetPopupOpen:!1}),t.props.onReset())},t.handleOpen=function(){t.setState({resetPopupOpen:!0})},t.handleClose=function(){t.setState({resetPopupOpen:!1})},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(u.a,{secondary:!0},r.a.createElement(u.a.Item,{name:"icon"},r.a.createElement("img",{src:"https://react.semantic-ui.com/logo.png",alt:"logo"})),r.a.createElement(u.a.Item,{name:"reviews",content:"Help",onClick:this.handleItemClick}),r.a.createElement(d.a,{name:"resetPopup",hideOnScroll:!0,open:this.state.resetPopupOpen,onClose:this.handleClose,onOpen:this.handleOpen,trigger:r.a.createElement(u.a.Item,{position:"right"},r.a.createElement(g.a,{name:"delete",color:"orange"})," Reset"),content:r.a.createElement(w.a,{color:"red",name:"reset",content:"Confirm reset",onClick:this.handleItemClick}),on:"click"}))}}]),n}(a.Component),C=t(331),E=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(p.a)(this,(e=Object(m.a)(n)).call.apply(e,[this].concat(r)))).handleItemClick=function(e){t.props.onChange(e)},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(C.a.Row,{style:{borderTop:this.props.idx%4!==0?void 0:"solid 2px gray"}},r.a.createElement(C.a.Cell,null,this.props.game[0]),r.a.createElement(C.a.Cell,null,this.props.game[1]),r.a.createElement(C.a.Cell,null,this.props.game[2]),r.a.createElement(C.a.Cell,null,this.props.game[3]),r.a.createElement(d.a,{hideOnScroll:!0,trigger:r.a.createElement(C.a.Cell,null,this.props.game.soloWon||this.props.game.soloLost?"".concat(3*this.props.game.points," / ").concat(this.props.game.points):this.props.game.points),content:r.a.createElement(g.a,{name:"edit outline",idx:this.props.idx,onClick:function(){return e.handleItemClick(e.props.idx)}}),on:"click",position:"top center"}))}}]),n}(a.Component),f=function(e){function n(){return Object(s.a)(this,n),Object(p.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"gameToResultPoints",value:function(e){var n=1===e.winner.length,t=3===e.winner.length,a={0:0,1:0,2:0,3:0};return Object.keys(a).forEach(function(r){e.winner.includes(Number(r))?a[r]+=n?3*e.points:e.points:a[r]-=t?3*e.points:e.points}),a.soloWon=n,a.soloLost=t,a}},{key:"gameListToPointList",value:function(e){var n=this,t=[];return e.forEach(function(e,a){var r=n.gameToResultPoints(e);t.push({gameID:e.gameID,points:e.points,soloWon:r.soloWon,soloLost:r.soloLost,0:0===a?r[0]:r[0]+t[t.length-1][0],1:0===a?r[1]:r[1]+t[t.length-1][1],2:0===a?r[2]:r[2]+t[t.length-1][2],3:0===a?r[3]:r[3]+t[t.length-1][3]})}),t}},{key:"render",value:function(){var e=this,n=this.gameListToPointList(this.props.games);return r.a.createElement(C.a.Body,null,n.map(function(n,t){return r.a.createElement(E,{key:t,idx:t,id:n.gameID,game:n,onChange:e.props.onChange})}))}}]),n}(a.Component),v=t(330),b=t(329),O=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(p.a)(this,(e=Object(m.a)(n)).call.apply(e,[this].concat(r)))).handleChange=function(e){var n=Object(i.a)(t.props.players);n[e.target.id].name=e.target.value,t.props.onChange(n)},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e={textAlign:"center",fontWeight:"bold"};return r.a.createElement(C.a.Header,null,r.a.createElement(C.a.Row,null,r.a.createElement(C.a.HeaderCell,null,r.a.createElement(v.a,null,r.a.createElement(b.a,{transparent:!0,type:"text",placeholder:"Player 1",id:0,value:this.props.players[0].name,onChange:this.handleChange},r.a.createElement("input",{style:e})))),r.a.createElement(C.a.HeaderCell,null,r.a.createElement(v.a,null,r.a.createElement(b.a,{transparent:!0,type:"text",placeholder:"Player 2",id:1,value:this.props.players[1].name,onChange:this.handleChange},r.a.createElement("input",{style:e})))),r.a.createElement(C.a.HeaderCell,null,r.a.createElement(v.a,null,r.a.createElement(b.a,{transparent:!0,type:"text",placeholder:"Player 3",id:2,value:this.props.players[2].name,onChange:this.handleChange},r.a.createElement("input",{style:e})))),r.a.createElement(C.a.HeaderCell,null,r.a.createElement(v.a,null,r.a.createElement(b.a,{transparent:!0,type:"text",placeholder:"Player 4",id:3,value:this.props.players[3].name,onChange:this.handleChange},r.a.createElement("input",{style:e})))),r.a.createElement(C.a.HeaderCell,null,"Game")))}}]),n}(a.Component),j=t(328),G=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(p.a)(this,(e=Object(m.a)(n)).call.apply(e,[this].concat(r)))).handleWinnerInput=function(e,n){var a=Object(i.a)(t.props.newGame.winner);a[n.playerid]=n.checked,t.props.onChange({winner:a})},t.handlePointInput=function(e,n){t.props.onChange({points:n.value})},t.handlePointSubmit=function(e,n){var a=Number(t.props.newGame.points),r=0===a,l=[];t.props.newGame.winner.forEach(function(e,n){e&&l.push(n)}),r&&0!==l.length?console.warn("Null game must have zero winners."):0!==l.length||r?l.length>3?console.warn("Can't have more than 3 winners."):t.props.onSubmit({idx:t.props.newGame.idx,winner:l,points:a}):console.warn("Zero winners must be nullgame.")},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(C.a.Footer,{fullWidth:!0},r.a.createElement(C.a.Row,null,r.a.createElement(C.a.HeaderCell,null,r.a.createElement(j.a,{playerid:"0",checked:this.props.newGame.winner[0],onChange:this.handleWinnerInput})),r.a.createElement(C.a.HeaderCell,null,r.a.createElement(j.a,{playerid:"1",checked:this.props.newGame.winner[1],onChange:this.handleWinnerInput})),r.a.createElement(C.a.HeaderCell,null,r.a.createElement(j.a,{playerid:"2",checked:this.props.newGame.winner[2],onChange:this.handleWinnerInput})),r.a.createElement(C.a.HeaderCell,null,r.a.createElement(j.a,{playerid:"3",checked:this.props.newGame.winner[3],onChange:this.handleWinnerInput})),r.a.createElement(C.a.HeaderCell,null,r.a.createElement(b.a,{fluid:!0,size:"small",type:"number",max:50,min:0,action:r.a.createElement(w.a,{color:"teal",icon:"add",onClick:this.handlePointSubmit}),onChange:this.handlePointInput,value:this.props.newGame.points,placeholder:"Points"}))))}}]),n}(a.Component),k=t(27),P=t.n(k);function x(){return{players:[{id:0,name:"Player 1"},{id:1,name:"Player 2"},{id:2,name:"Player 3"},{id:3,name:"Player 4"}],games:[],newGame:{idx:0,winner:[!1,!1,!1,!1],points:""}}}var I=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(p.a)(this,(e=Object(m.a)(n)).call.apply(e,[this].concat(r)))).state={players:P.a.get("players")||[{id:0,name:"Player 1"},{id:1,name:"Player 2"},{id:2,name:"Player 3"},{id:3,name:"Player 4"}],games:P.a.get("games")||[],newGame:P.a.get("newGame")||{idx:0,winner:[!1,!1,!1,!1],points:""}},t.emptyState=x,t.handlePlayerChange=function(e){t.setState({players:e}),P.a.set("players",e)},t.handleGameAdded=function(e){var n=Object(i.a)(t.state.games);e.idx>t.state.games.length-1?n.push({gameID:t.state.games.length,winner:e.winner,points:e.points}):n[e.idx]={gameID:e.idx,winner:e.winner,points:e.points},t.setState({games:n}),P.a.set("games",n),t.resetNewGame(n.length)},t.handleNewGameChange=function(e){var n=t.state.newGame;void 0!==e.winner?n.winner=e.winner:void 0!==e.points&&(n.points=e.points),t.setState({newGame:n}),P.a.set("newGame",n)},t.resetNewGame=function(e){var n=t.emptyState();n.newGame.idx=e,t.setState({newGame:n.newGame}),P.a.set("newGame",n.newGame)},t.handleReset=function(){var e=t.emptyState();t.setState(e),P.a.set("players",e.players),P.a.set("games",e.games),P.a.set("newGame",e.newGame)},t.handleGameChange=function(e){var n=t.state.games[e],a={idx:e,winner:[!1,!1,!1,!1],points:n.points};n.winner.forEach(function(e){a.winner[e]=!0}),t.setState({newGame:a})},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{onReset:this.handleReset}),r.a.createElement(C.a,{selectable:!0,unstackable:!0,columns:5,striped:!0,textAlign:"center",style:{borderCollapse:"collapse"}},r.a.createElement(O,{players:this.state.players,onChange:this.handlePlayerChange}),r.a.createElement(f,{games:this.state.games,onChange:this.handleGameChange}),r.a.createElement(G,{newGame:this.state.newGame,onChange:this.handleNewGameChange,onSubmit:this.handleGameAdded})))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(317);o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[175,2,1]]]);
//# sourceMappingURL=main.a655ac96.chunk.js.map