(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{232:function(e,t,n){e.exports=n(407)},237:function(e,t,n){},239:function(e,t,n){},394:function(e,t,n){e.exports=n.p+"static/media/logo.62486c72.svg"},407:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(59),o=n.n(l),i=(n(237),n(64)),c=n(26),s=n(27),m=n(29),p=n(28),h=n(30),u=(n(239),n(425)),d=n(427),g=n(201),w=n(124),y=n(421),E=function(e){return r.a.createElement(y.a,{basic:!0,trigger:e.trigger,centered:!1},r.a.createElement(y.a.Header,null,"Help"),r.a.createElement(y.a.Content,null,r.a.createElement(y.a.Description,null,r.a.createElement("p",null,"You can add a game by entering the game score and winners. Solos points are calculated automatically."),r.a.createElement("p",null,"You can edit a previous game by clicking on the corresponding score and hitting the edit icon. It will populate the bottom row, adding the game will edit in place."),r.a.createElement("p",null,"You can edit player names by clicking on them."))))},f=n(426),b=n(424),C=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={resetPopupOpen:!1},n.handleClick=function(){n.setState({resetPopupOpen:!1}),n.props.onReset()},n.handleOpen=function(){n.setState({resetPopupOpen:!0})},n.handleClose=function(){n.setState({resetPopupOpen:!1})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{name:"resetPopup",hideOnScroll:!0,open:this.state.resetPopupOpen,onClose:this.handleClose,onOpen:this.handleOpen,trigger:this.props.trigger,content:r.a.createElement(b.a,{color:"red",name:"reset",content:"Confirm reset",onClick:this.handleClick}),on:"click"})}}]),t}(a.Component),v=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleResetClick=function(){n.props.onReset()},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(u.a,{secondary:!0},r.a.createElement(u.a.Item,{content:r.a.createElement("img",{src:n(394),alt:"logo"})}),r.a.createElement(u.a.Item,{content:r.a.createElement(d.a,{as:"h3",content:"Doko Butler"})}),r.a.createElement(E,{trigger:r.a.createElement(u.a.Item,{name:"help",content:"Help"})}),r.a.createElement(C,{onReset:this.handleResetClick,trigger:r.a.createElement(u.a.Item,{position:"right",content:r.a.createElement(g.a,{basic:!0,color:"red"},r.a.createElement(w.a,{name:"delete"})," Reset")})}))}}]),t}(a.Component),O=n(422),k=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleItemClick=function(e){n.props.onChange(e)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(O.a.Row,{style:{borderTop:this.props.gameid%4!==0?void 0:"solid 2px gray"}},r.a.createElement(O.a.Cell,null,this.props.game[0]),r.a.createElement(O.a.Cell,null,this.props.game[1]),r.a.createElement(O.a.Cell,null,this.props.game[2]),r.a.createElement(O.a.Cell,null,this.props.game[3]),r.a.createElement(f.a,{hideOnScroll:!0,trigger:r.a.createElement(O.a.Cell,null,this.props.game.soloWon||this.props.game.soloLost?"".concat(3*this.props.game.points," / ").concat(this.props.game.points):this.props.game.points),content:r.a.createElement(w.a,{name:"edit outline",onClick:function(){return e.handleItemClick(e.props.game.gameid)}}),on:"click",position:"top center"}))}}]),t}(a.Component),j=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"gameToResultPoints",value:function(e){var t=1===e.winner.length,n=3===e.winner.length,a={0:0,1:0,2:0,3:0};return Object.keys(a).forEach(function(r){e.winner.includes(Number(r))?a[r]+=t?3*e.points:e.points:a[r]-=n?3*e.points:e.points}),a.soloWon=t,a.soloLost=n,a}},{key:"gameListToPointList",value:function(e){var t=this,n=[];return e.forEach(function(e,a){var r=t.gameToResultPoints(e);n.push({gameid:e.gameid,points:e.points,soloWon:r.soloWon,soloLost:r.soloLost,0:0===a?r[0]:r[0]+n[n.length-1][0],1:0===a?r[1]:r[1]+n[n.length-1][1],2:0===a?r[2]:r[2]+n[n.length-1][2],3:0===a?r[3]:r[3]+n[n.length-1][3]})}),n}},{key:"render",value:function(){var e=this,t=this.gameListToPointList(this.props.games);return r.a.createElement(O.a.Body,null,t.map(function(t,n){return r.a.createElement(k,{key:n,game:t,onChange:e.props.onChange})}))}}]),t}(a.Component),G=n(420),P=n(417),S=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=Object(i.a)(n.props.players);t[e.target.id].name=e.target.value,n.props.onChange(t)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={textAlign:"center",fontWeight:"bold"};return r.a.createElement(O.a.Header,null,r.a.createElement(O.a.Row,null,r.a.createElement(O.a.HeaderCell,null,r.a.createElement(G.a,null,r.a.createElement(P.a,{transparent:!0,type:"text",placeholder:"Player 1",id:0,value:this.props.players[0].name,onChange:this.handleChange},r.a.createElement("input",{style:e})))),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(G.a,null,r.a.createElement(P.a,{transparent:!0,type:"text",placeholder:"Player 2",id:1,value:this.props.players[1].name,onChange:this.handleChange},r.a.createElement("input",{style:e})))),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(G.a,null,r.a.createElement(P.a,{transparent:!0,type:"text",placeholder:"Player 3",id:2,value:this.props.players[2].name,onChange:this.handleChange},r.a.createElement("input",{style:e})))),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(G.a,null,r.a.createElement(P.a,{transparent:!0,type:"text",placeholder:"Player 4",id:3,value:this.props.players[3].name,onChange:this.handleChange},r.a.createElement("input",{style:e})))),r.a.createElement(O.a.HeaderCell,null,"Game")))}}]),t}(a.Component),I=n(416),H=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleFocus=function(e){var t=e.currentTarget;setTimeout(function(){t.select()},0)},n.handleWinnerInput=function(e,t){var a=Object(i.a)(n.props.newGame.winner);a[t.playerid]=t.checked,n.props.onChange({winner:a})},n.handlePointInput=function(e,t){n.props.onChange({points:t.value})},n.handlePointSubmit=function(e,t){var a=Number(n.props.newGame.points),r=0===a,l=[];n.props.newGame.winner.forEach(function(e,t){e&&l.push(t)}),r&&0!==l.length?console.warn("Null game must have zero winners."):0!==l.length||r?l.length>3?console.warn("Can't have more than 3 winners."):n.props.onSubmit({gameid:n.props.newGame.gameid,winner:l,points:a}):console.warn("Zero winners must be nullgame.")},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(O.a.Footer,{fullWidth:!0},r.a.createElement(O.a.Row,null,r.a.createElement(O.a.HeaderCell,null,r.a.createElement(I.a,{playerid:"0",checked:this.props.newGame.winner[0],onChange:this.handleWinnerInput})),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(I.a,{playerid:"1",checked:this.props.newGame.winner[1],onChange:this.handleWinnerInput})),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(I.a,{playerid:"2",checked:this.props.newGame.winner[2],onChange:this.handleWinnerInput})),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(I.a,{playerid:"3",checked:this.props.newGame.winner[3],onChange:this.handleWinnerInput})),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(P.a,{fluid:!0,size:"mini",type:"number",pattern:"\\d*",max:50,min:0,action:r.a.createElement(b.a,{compact:!0,color:"teal",icon:"add",size:"mini",onClick:this.handlePointSubmit}),onFocus:this.handleFocus,onChange:this.handlePointInput,value:this.props.newGame.points,placeholder:"Points"}))))}}]),t}(a.Component),R=n(428),W=n(418),x=n(419),A=n(423),L=function(){return r.a.createElement(R.a,{style:{margin:"5em 0em 0em",padding:"5em 0em"},vertical:!0},r.a.createElement(W.a,{textAlign:"center"},r.a.createElement(x.a,{section:!0}),r.a.createElement(A.a,{horizontal:!0,divided:!0,link:!0,size:"small"},r.a.createElement(A.a.Item,{content:"".concat("doko_butler"," ").concat("0.1.0")}),r.a.createElement(A.a.Item,{as:"a",href:"https://github.com/chohner/doko-butler",target:"_blank"},r.a.createElement(w.a,{name:"github"})," github"),r.a.createElement(A.a.Item,{as:"a",href:"https://chohner.com",target:"_blank",content:"made by chohner"}))))},N=n(34),T=n.n(N);function z(){return{players:[{id:0,name:"Player 1"},{id:1,name:"Player 2"},{id:2,name:"Player 3"},{id:3,name:"Player 4"}],games:[],newGame:{gameid:0,winner:[!1,!1,!1,!1],points:""}}}var F=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={players:T.a.get("players")||[{id:0,name:"Player 1"},{id:1,name:"Player 2"},{id:2,name:"Player 3"},{id:3,name:"Player 4"}],games:T.a.get("games")||[],newGame:T.a.get("newGame")||{gameid:0,winner:[!1,!1,!1,!1],points:""}},n.emptyState=z,n.handlePlayerChange=function(e){n.setState({players:e}),T.a.set("players",e)},n.handleGameAdded=function(e){var t=Object(i.a)(n.state.games);e.gameid>n.state.games.length-1?t.push({gameid:n.state.games.length,winner:e.winner,points:e.points}):t[e.gameid]={gameid:e.gameid,winner:e.winner,points:e.points},n.setState({games:t}),T.a.set("games",t),n.resetNewGame(t.length)},n.handleNewGameChange=function(e){var t=n.state.newGame;void 0!==e.winner?t.winner=e.winner:void 0!==e.points&&(t.points=e.points),n.setState({newGame:t}),T.a.set("newGame",t)},n.resetNewGame=function(e){var t=n.emptyState();t.newGame.gameid=e,n.setState({newGame:t.newGame}),T.a.set("newGame",t.newGame)},n.handleReset=function(){var e=n.emptyState();n.setState(e),T.a.set("players",e.players),T.a.set("games",e.games),T.a.set("newGame",e.newGame)},n.handleGameChange=function(e){var t=n.state.games[e],a={gameid:e,winner:[!1,!1,!1,!1],points:t.points};t.winner.forEach(function(e){a.winner[e]=!0}),n.setState({newGame:a})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.players,n=e.games,a=e.newGame;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{onReset:this.handleReset}),r.a.createElement(O.a,{fixed:!0,selectable:!0,unstackable:!0,columns:5,striped:!0,textAlign:"center",size:"small",style:{borderCollapse:"collapse"}},r.a.createElement(S,{players:t,onChange:this.handlePlayerChange}),r.a.createElement(j,{games:n,onChange:this.handleGameChange}),r.a.createElement(H,{newGame:a,onChange:this.handleNewGameChange,onSubmit:this.handleGameAdded})),r.a.createElement(L,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(404);o.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[232,2,1]]]);
//# sourceMappingURL=main.ebb8f3c2.chunk.js.map